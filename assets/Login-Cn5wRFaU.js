import{r as o,u as p,a as x,c as f,b as g,P as j,j as e,U as v,l as N,d as b,e as w}from"./index-apqPWkAR.js";const E=()=>{const[s,d]=o.useState({email:"",password:""}),[i,a]=o.useState(""),t=p(),n=x(),c=l=>{const{id:r,value:h}=l.target;d({...s,[r]:h})};o.useEffect(()=>{f(v),t(g()),n(`/${j.LOGIN}`,{replace:!0})},[t,n]);const m=()=>/\S+@\S+\.\S+/.test(s.email)?s.password.length<3?!1:(a(""),!0):(a("Por favor ingresa un correo válido."),!1),u=async l=>{if(l.preventDefault(),!!m())try{const r=await N(s);t(b({...r,rol:r.role})),n(`/${w.PRIVATE}`,{replace:!0})}catch(r){console.error("Login failed:",r),a("Error al iniciar sesión. Por favor intenta de nuevo.")}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 ",children:e.jsxs("div",{className:"col-md-4 principalContainer",children:[e.jsx("h3",{className:"text-center",children:"Login"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",value:s.email,onChange:c})]}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:s.password,onChange:c})]}),i&&e.jsx("p",{className:"text-danger",children:i}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"})]}),e.jsx("div",{className:"text-center mt-3",children:e.jsxs("p",{children:["¿No tienes una cuenta? ",e.jsx("a",{href:"#/register",children:"Registrarse."})]})})]})})})};export{E as default};
