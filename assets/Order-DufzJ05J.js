import{r as n,m as y,j as e,n as f,o as h,e as K,N as Q,f as G,B as W,G as X}from"./index-DE4PCHGs.js";import{C as Y}from"./Col-DHPIT2W9.js";function Z(o,t){return n.Children.toArray(o).some(a=>n.isValidElement(a)&&a.type===t)}const P={type:y.string,tooltip:y.bool,as:y.elementType},F=n.forwardRef(({as:o="div",className:t,type:a="valid",tooltip:s=!1,...l},r)=>e.jsx(o,{...l,ref:r,className:f(t,`${a}-${s?"tooltip":"feedback"}`)}));F.displayName="Feedback";F.propTypes=P;const j=n.createContext({}),$=n.forwardRef(({id:o,bsPrefix:t,className:a,type:s="checkbox",isValid:l=!1,isInvalid:r=!1,as:m="input",...p},d)=>{const{controlId:c}=n.useContext(j);return t=h(t,"form-check-input"),e.jsx(m,{...p,ref:d,type:s,id:o||c,className:f(a,t,l&&"is-valid",r&&"is-invalid")})});$.displayName="FormCheckInput";const N=n.forwardRef(({bsPrefix:o,className:t,htmlFor:a,...s},l)=>{const{controlId:r}=n.useContext(j);return o=h(o,"form-check-label"),e.jsx("label",{...s,ref:l,htmlFor:a||r,className:f(t,o)})});N.displayName="FormCheckLabel";const S=n.forwardRef(({id:o,bsPrefix:t,bsSwitchPrefix:a,inline:s=!1,reverse:l=!1,disabled:r=!1,isValid:m=!1,isInvalid:p=!1,feedbackTooltip:d=!1,feedback:c,feedbackType:u,className:x,style:C,title:v="",type:w="checkbox",label:I,children:R,as:J="input",...U},_)=>{t=h(t,"form-check"),a=h(a,"form-switch");const{controlId:k}=n.useContext(j),z=n.useMemo(()=>({controlId:o||k}),[k,o]),T=!R&&I!=null&&I!==!1||Z(R,N),H=e.jsx($,{...U,type:w==="switch"?"checkbox":w,ref:_,isValid:m,isInvalid:p,disabled:r,as:J});return e.jsx(j.Provider,{value:z,children:e.jsx("div",{style:C,className:f(x,T&&t,s&&`${t}-inline`,l&&`${t}-reverse`,w==="switch"&&a),children:R||e.jsxs(e.Fragment,{children:[H,T&&e.jsx(N,{title:v,children:I}),c&&e.jsx(F,{type:u,tooltip:d,children:c})]})})})});S.displayName="FormCheck";const g=Object.assign(S,{Input:$,Label:N}),q=n.forwardRef(({bsPrefix:o,type:t,size:a,htmlSize:s,id:l,className:r,isValid:m=!1,isInvalid:p=!1,plaintext:d,readOnly:c,as:u="input",...x},C)=>{const{controlId:v}=n.useContext(j);return o=h(o,"form-control"),e.jsx(u,{...x,type:t,size:s,ref:C,readOnly:c,id:l||v,className:f(r,d?`${o}-plaintext`:o,a&&`${o}-${a}`,t==="color"&&`${o}-color`,m&&"is-valid",p&&"is-invalid")})});q.displayName="FormControl";const ee=Object.assign(q,{Feedback:F}),D=n.forwardRef(({className:o,bsPrefix:t,as:a="div",...s},l)=>(t=h(t,"form-floating"),e.jsx(a,{ref:l,className:f(o,t),...s})));D.displayName="FormFloating";const L=n.forwardRef(({controlId:o,as:t="div",...a},s)=>{const l=n.useMemo(()=>({controlId:o}),[o]);return e.jsx(j.Provider,{value:l,children:e.jsx(t,{...a,ref:s})})});L.displayName="FormGroup";const E=n.forwardRef(({as:o="label",bsPrefix:t,column:a=!1,visuallyHidden:s=!1,className:l,htmlFor:r,...m},p)=>{const{controlId:d}=n.useContext(j);t=h(t,"form-label");let c="col-form-label";typeof a=="string"&&(c=`${c} ${c}-${a}`);const u=f(l,t,s&&"visually-hidden",a&&c);return r=r||d,a?e.jsx(Y,{ref:p,as:"label",className:u,htmlFor:r,...m}):e.jsx(o,{ref:p,className:u,htmlFor:r,...m})});E.displayName="FormLabel";const O=n.forwardRef(({bsPrefix:o,className:t,id:a,...s},l)=>{const{controlId:r}=n.useContext(j);return o=h(o,"form-range"),e.jsx("input",{...s,type:"range",ref:l,className:f(t,o),id:a||r})});O.displayName="FormRange";const B=n.forwardRef(({bsPrefix:o,size:t,htmlSize:a,className:s,isValid:l=!1,isInvalid:r=!1,id:m,...p},d)=>{const{controlId:c}=n.useContext(j);return o=h(o,"form-select"),e.jsx("select",{...p,size:a,ref:d,className:f(s,o,t&&`${o}-${t}`,l&&"is-valid",r&&"is-invalid"),id:m||c})});B.displayName="FormSelect";const A=n.forwardRef(({bsPrefix:o,className:t,as:a="small",muted:s,...l},r)=>(o=h(o,"form-text"),e.jsx(a,{...l,ref:r,className:f(t,o,s&&"text-muted")})));A.displayName="FormText";const M=n.forwardRef((o,t)=>e.jsx(g,{...o,ref:t,type:"switch"}));M.displayName="Switch";const oe=Object.assign(M,{Input:g.Input,Label:g.Label}),V=n.forwardRef(({bsPrefix:o,className:t,children:a,controlId:s,label:l,...r},m)=>(o=h(o,"form-floating"),e.jsxs(L,{ref:m,className:f(t,o),controlId:s,...r,children:[a,e.jsx("label",{htmlFor:s,children:l})]})));V.displayName="FloatingLabel";const te={_ref:y.any,validated:y.bool,as:y.elementType},b=n.forwardRef(({className:o,validated:t,as:a="form",...s},l)=>e.jsx(a,{...s,ref:l,className:f(o,t&&"was-validated")}));b.displayName="Form";b.propTypes=te;const i=Object.assign(b,{Group:L,Control:ee,Floating:D,Check:g,Switch:oe,Label:E,Text:A,Range:O,Select:B,FloatingLabel:V}),re=()=>{const{cartItems:o}=K(),[t,a]=n.useState([]),[s,l]=n.useState({nombreCompleto:"",cedula:"",telefono:"",direccion:"",ciudad:"",departamento:""});n.useEffect(()=>{async function d(){try{if(o.length>0){const c=o.map(C=>C.id),x=(await X(0)).products.filter(C=>c.includes(C.id));a(x)}}catch(c){console.error("Error fetching products:",c)}}d()},[o]);const r=d=>{const{name:c,value:u}=d.target;l({...s,[c]:u})},m=d=>{d.preventDefault(),console.log("Datos del formulario:",s)},p=t.reduce((d,c)=>{const u=o.find(x=>x.id===c.id);return d+(u?c.price*u.quantity:0)},0);return e.jsxs(e.Fragment,{children:[e.jsx(Q,{}),e.jsxs("div",{className:"pedido-container",children:[e.jsx("h2",{children:"Detalle del Pedido"}),t.length>0?t.map(d=>{const c=o.find(u=>u.id===d.id);return e.jsxs("div",{className:"pedido-detalle",children:[e.jsx("img",{src:JSON.parse(d.images)[0],alt:d.name,className:"pedido-imagen"}),e.jsx("h3",{children:d.name}),e.jsxs("p",{children:["Cantidad: ",c==null?void 0:c.quantity]})," ",e.jsxs("p",{children:["Precio Unitario: ",G(d.price)]})]},d.id)}):e.jsx("p",{children:"Cargando detalles del producto..."}),e.jsx("p",{className:"envio-gratis",children:"¡Envío Gratis!"}),e.jsxs("p",{className:"total",children:["Total: ",G(p)]}),e.jsxs(i,{onSubmit:m,className:"pedido-form",children:[e.jsx("h3",{children:"Datos de Envío"}),e.jsxs(i.Group,{controlId:"nombreCompleto",children:[e.jsx(i.Label,{children:"Nombre Completo"}),e.jsx(i.Control,{type:"text",name:"nombreCompleto",value:s.nombreCompleto,onChange:r,required:!0})]}),e.jsxs(i.Group,{controlId:"cedula",children:[e.jsx(i.Label,{children:"Cédula"}),e.jsx(i.Control,{type:"text",name:"cedula",value:s.cedula,onChange:r,required:!0})]}),e.jsxs(i.Group,{controlId:"telefono",children:[e.jsx(i.Label,{children:"Teléfono"}),e.jsx(i.Control,{type:"text",name:"telefono",value:s.telefono,onChange:r,required:!0})]}),e.jsxs(i.Group,{controlId:"direccion",children:[e.jsx(i.Label,{children:"Dirección"}),e.jsx(i.Control,{type:"text",name:"direccion",value:s.direccion,onChange:r,required:!0})]}),e.jsxs(i.Group,{controlId:"ciudad",children:[e.jsx(i.Label,{children:"Ciudad"}),e.jsx(i.Control,{type:"text",name:"ciudad",value:s.ciudad,onChange:r,required:!0})]}),e.jsxs(i.Group,{controlId:"departamento",children:[e.jsx(i.Label,{children:"Departamento"}),e.jsx(i.Control,{type:"text",name:"departamento",value:s.departamento,onChange:r,required:!0})]}),e.jsx(W,{className:"w-100 toBuybutton",type:"submit",children:"Confirmar Pedido"})]})]})]})};export{re as default};
