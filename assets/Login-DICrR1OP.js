import{r as l,u as p,a as x,c as f,b as g,P as j,j as e,U as v,d as N,e as b}from"./index-CnXxjKaT.js";import{l as w}from"./auth.service-Lhmbm5je.js";const P=()=>{const[r,d]=l.useState({email:"",password:""}),[i,a]=l.useState(""),t=p(),n=x(),c=o=>{const{id:s,value:h}=o.target;d({...r,[s]:h})};l.useEffect(()=>{f(v),t(g()),n(`/${j.LOGIN}`,{replace:!0})},[t,n]);const m=()=>/\S+@\S+\.\S+/.test(r.email)?r.password.length<3?!1:(a(""),!0):(a("Por favor ingresa un correo válido."),!1),u=async o=>{if(o.preventDefault(),!!m())try{const s=await w(r);t(N({...s,rol:s.role})),n(`/${b.PRIVATE}`,{replace:!0})}catch(s){console.error("Login failed:",s),a("Error al iniciar sesión. Por favor intenta de nuevo.")}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 ",children:e.jsxs("div",{className:"col-md-4 principalContainer",children:[e.jsx("h3",{className:"text-center",children:"Login"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",value:r.email,onChange:c})]}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:r.password,onChange:c})]}),i&&e.jsx("p",{className:"text-danger",children:i}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"})]}),e.jsx("div",{className:"text-center mt-3",children:e.jsxs("p",{children:["¿No tienes una cuenta? ",e.jsx("a",{href:"#/register",children:"Registrarse."})]})})]})})})};export{P as default};
